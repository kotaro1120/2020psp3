# 課題4 レポート
学生番号　氏名

## 課題
本課題では、全国の県庁所在地の消費データを読み込み、ソートするプログラムを作成する。

1. 使用するデータ  
全国の県庁所在地の消費データは、consumption.csvに保存されている。consumption.csvには、csv形式で、以下のデータが含まれる。
- ID
- 市の眺め
- 世帯人員
- 食料合計
- 穀類
- 魚介類
- 肉類
- 乳卵類
- 野菜類
- 果物
- 調味料
- 菓子類
- 調理料理
- 飲料
- 酒類
- 外食

県庁所在地の消費データは、下記構造体の配列に読み込まれる。

```
typedef struct {
    int id;
    char name[19];  //  市の名前、UTF-8対応
    float members;  //  世帯人員
    int total;      //  食料合計
    int grain;      //  穀類
    int seafood;    //  魚介類
    int meat;       //  肉類
    int milk;       //  乳卵類
    int vegetable;  //  野菜類
    int fruit;      //  果物
    int seasoning;  //  調味料
    int snack;      //  菓子類
    int cocking;    //  調理料理
    int drink;      //  飲料
    int liquor;     //  酒類
    int eatout;     //  外食
} City;
```

2. 必須問題：実装する関数  
本課題では、以下の関数を実装する。  
(1) BubbuleSort: バブルソートを用いて、食料合計(total)でソートする。  
    [入力]  
    - City arrayCity[]: 都市別消費データの配列  
    - int size: 都市の数  

    [出力]  
    - City arrayCity[]: 食料合計でソートされた都市別消費データの配列  

    (2) QuickSort: クイックソートを用いて、魚介類(seafood)でソートする。  
    [入力]  
    - City arrayCity[]: 都市別消費データの配列
    - int left: ソート対象配列の左側index  
    - int right: ソート対象配列の右側index  

    [出力]  
    - City arrayCity[]: 食料合計でソートされた都市別消費データの配列  

3. 補助関数  
以下の関数はすでに実装されており、利用することができる。  
- PrintCity: 特定の都市のデータを出力する。  
- PrintArray: すべての都市のデータを出力する  
- LoadData: 都市毎の消費データを読み込み、City型の配列に格納する。
- main: メイン関数。データのロード、ソート処理の呼出を行う。

4. チャレンジ問題  
以下のプログラムを作成する。  
(1) HeapSort: ヒープソートを用いて、肉類(meat)でソートする。(10点)  
    [入力]  
    - City arrayCity[]: 都市別消費データの配列  
    - int size: 都市の数  

    [出力]  
    - City arrayCity[]: 食料合計でソートされた都市別消費データの配列  

    (2) MergeSort: マージソートを用いて、酒類(liquor)でソートする。(10点)    
    [入力]  
    - City arrayCity[]: 都市別消費データの配列
    - int left: ソート対象配列の左側index  
    - int right: ソート対象配列の右側index

    [出力]  
    - City arrayCity[]: 食料合計でソートされた都市別消費データの配列  

    (3) 世帯人員、食料合計、穀類、魚介類など、5項目以上で長崎市の順位を求める。(10点)  

## ソースコードの説明

82: int型の変数の宣言
83: 構造体tmpの宣言
87: 数値列の先頭から最後の比較位置まで順番に88行目から92行目を繰り返す
92: 入替回数に1を加える
102: int型の宣言
構造体pivot、tmpの宣言
105: 要素数が1より多いなら、106行目から128行目を実行する
110: iがright以下の間、順番に111行目から114行目を繰り返す
111: pivotより大きい値が見つかったら、ループを抜ける
117: pivotより小さい値が見つかったら、ループを抜ける
122: iがj以上なら、ループを抜ける
131: pivotの値とjの位置の値を入れ替える
135: leftをj+1、rightをrightとしてQuicksortを再帰呼び出しする

## 出力結果

```
100, 札幌市, 2.96, 910399, 81474, 7
2201, 青森市, 2.98, 878930, 71992, 9
3201, 盛岡市, 3.15, 951176, 80203, 7
4100, 仙台市, 3.00, 958380, 70942, 8
5201, 秋田市, 2.88, 900697, 68139, 8
6201, 山形市, 3.19, 994946, 79598, 7
7201, 福島市, 3.00, 961789, 73184, 7
8201, 水戸市, 2.90, 932200, 67318, 6
9201, 宇都宮市, 2.85, 982038, 74050,
10201, 前橋市, 2.81, 923714, 77456, 
11100, さいたま市, 3.04, 1038797, 80
12100, 千葉市, 3.00, 1030073, 78500,
13100, 東京都区部, 2.93, 1123765, 81
14100, 横浜市, 2.84, 1066987, 82257,
15100, 新潟市, 3.18, 958724, 81705, 
16201, 富山市, 3.17, 1015186, 79967,
17201, 金沢市, 3.24, 1054782, 82042,
18201, 福井市, 3.14, 974542, 82592, 
19201, 甲府市, 2.87, 946017, 74069, 
20201, 長野市, 2.95, 919211, 71485, 
21201, 岐阜市, 3.14, 957971, 76555, 
22100, 静岡市, 3.06, 1008506, 84418,
23100, 名古屋市, 2.99, 990994, 80918
24201, 津市, 2.96, 960858, 74918, 81
25201, 大津市, 2.96, 1009459, 84658,
26100, 京都市, 2.88, 975105, 80628, 
27100, 大阪市, 2.99, 985502, 84901, 
28100, 神戸市, 2.83, 939714, 81185, 
29201, 奈良市, 2.91, 994117, 78857, 
30201, 和歌山市, 2.81, 862005, 77846
31201, 鳥取市, 3.18, 902757, 79256, 
32201, 松江市, 2.92, 924350, 75073, 
33100, 岡山市, 3.09, 927279, 78034, 
34100, 広島市, 3.02, 972840, 77531, 
35203, 山口市, 2.99, 891062, 69987, 
36201, 徳島市, 2.94, 882249, 74008, 
37201, 高松市, 2.90, 904147, 76153, 
38201, 松山市, 2.93, 857774, 72878, 
39201, 高知市, 3.03, 961760, 72418, 
40130, 福岡市, 2.95, 955403, 73597, 
41201, 佐賀市, 2.93, 918504, 71984, 
42201, 長崎市, 2.72, 905204, 75249, 
43100, 熊本市, 3.04, 870915, 68314, 
44201, 大分市, 2.82, 864758, 65964, 
45201, 宮崎市, 2.92, 846584, 65809, 
46201, 鹿児島市, 2.80, 886950, 70929
47201, 那覇市, 3.02, 789143, 68947, 
===== Sorted by total =====
47201, 那覇市, 3.02, 789143, 68947, 
45201, 宮崎市, 2.92, 846584, 65809, 
38201, 松山市, 2.93, 857774, 72878, 
30201, 和歌山市, 2.81, 862005, 77846
44201, 大分市, 2.82, 864758, 65964, 
43100, 熊本市, 3.04, 870915, 68314, 
2201, 青森市, 2.98, 878930, 71992, 9
36201, 徳島市, 2.94, 882249, 74008, 
46201, 鹿児島市, 2.80, 886950, 70929
35203, 山口市, 2.99, 891062, 69987, 
5201, 秋田市, 2.88, 900697, 68139, 8
31201, 鳥取市, 3.18, 902757, 79256, 
37201, 高松市, 2.90, 904147, 76153, 
42201, 長崎市, 2.72, 905204, 75249, 
1100, 札幌市, 2.96, 910399, 81474, 7
41201, 佐賀市, 2.93, 918504, 71984, 
20201, 長野市, 2.95, 919211, 71485, 
10201, 前橋市, 2.81, 923714, 77456, 
32201, 松江市, 2.92, 924350, 75073, 
33100, 岡山市, 3.09, 927279, 78034, 
8201, 水戸市, 2.90, 932200, 67318, 6
28100, 神戸市, 2.83, 939714, 81185, 
19201, 甲府市, 2.87, 946017, 74069, 
3201, 盛岡市, 3.15, 951176, 80203, 7
40130, 福岡市, 2.95, 955403, 73597, 
21201, 岐阜市, 3.14, 957971, 76555, 
4100, 仙台市, 3.00, 958380, 70942, 8
15100, 新潟市, 3.18, 958724, 81705, 
24201, 津市, 2.96, 960858, 74918, 81
39201, 高知市, 3.03, 961760, 72418, 
7201, 福島市, 3.00, 961789, 73184, 7
34100, 広島市, 3.02, 972840, 77531, 
18201, 福井市, 3.14, 974542, 82592, 
26100, 京都市, 2.88, 975105, 80628, 
9201, 宇都宮市, 2.85, 982038, 74050,
27100, 大阪市, 2.99, 985502, 84901, 
23100, 名古屋市, 2.99, 990994, 80918
29201, 奈良市, 2.91, 994117, 78857, 
6201, 山形市, 3.19, 994946, 79598, 7
22100, 静岡市, 3.06, 1008506, 84418,
25201, 大津市, 2.96, 1009459, 84658,
16201, 富山市, 3.17, 1015186, 79967,
12100, 千葉市, 3.00, 1030073, 78500,
11100, さいたま市, 3.04, 1038797, 80
17201, 金沢市, 3.24, 1054782, 82042,
14100, 横浜市, 2.84, 1066987, 82257,
13100, 東京都区部, 2.93, 1123765, 81
===== Sorted by seafood =====
47201, 那覇市, 3.02, 789143, 68947, 
43100, 熊本市, 3.04, 870915, 68314, 
45201, 宮崎市, 2.92, 846584, 65809, 
44201, 大分市, 2.82, 864758, 65964, 
36201, 徳島市, 2.94, 882249, 74008, 
38201, 松山市, 2.93, 857774, 72878, 
28100, 神戸市, 2.83, 939714, 81185, 
37201, 高松市, 2.90, 904147, 76153, 
21201, 岐阜市, 3.14, 957971, 76555, 
32201, 松江市, 2.92, 924350, 75073, 
33100, 岡山市, 3.09, 927279, 78034, 
8201, 水戸市, 2.90, 932200, 67318, 6
46201, 鹿児島市, 2.80, 886950, 70929
41201, 佐賀市, 2.93, 918504, 71984, 
23100, 名古屋市, 2.99, 990994, 80918
18201, 福井市, 3.14, 974542, 82592, 
35203, 山口市, 2.99, 891062, 69987, 
10201, 前橋市, 2.81, 923714, 77456, 
9201, 宇都宮市, 2.85, 982038, 74050,
19201, 甲府市, 2.87, 946017, 74069, 
34100, 広島市, 3.02, 972840, 77531, 
11100, さいたま市, 3.04, 1038797, 80
31201, 鳥取市, 3.18, 902757, 79256, 
6201, 山形市, 3.19, 994946, 79598, 7
40130, 福岡市, 2.95, 955403, 73597, 
27100, 大阪市, 2.99, 985502, 84901, 
30201, 和歌山市, 2.81, 862005, 77846
20201, 長野市, 2.95, 919211, 71485, 
39201, 高知市, 3.03, 961760, 72418, 
7201, 福島市, 3.00, 961789, 73184, 7
3201, 盛岡市, 3.15, 951176, 80203, 7
17201, 金沢市, 3.24, 1054782, 82042,
13100, 東京都区部, 2.93, 1123765, 81
1100, 札幌市, 2.96, 910399, 81474, 7
15100, 新潟市, 3.18, 958724, 81705, 
42201, 長崎市, 2.72, 905204, 75249, 
12100, 千葉市, 3.00, 1030073, 78500,
29201, 奈良市, 2.91, 994117, 78857, 
26100, 京都市, 2.88, 975105, 80628, 
24201, 津市, 2.96, 960858, 74918, 81
22100, 静岡市, 3.06, 1008506, 84418,
14100, 横浜市, 2.84, 1066987, 82257,
5201, 秋田市, 2.88, 900697, 68139, 8
16201, 富山市, 3.17, 1015186, 79967,
25201, 大津市, 2.96, 1009459, 84658,
4100, 仙台市, 3.00, 958380, 70942, 8
2201, 青森市, 2.98, 878930, 71992, 9
47201, 那覇市, 3.02, 789143, 68947, 
43100, 熊本市, 3.04, 870915, 68314, 
45201, 宮崎市, 2.92, 846584, 65809, 
44201, 大分市, 2.82, 864758, 65964, 
36201, 徳島市, 2.94, 882249, 74008, 
38201, 松山市, 2.93, 857774, 72878, 
28100, 神戸市, 2.83, 939714, 81185, 
37201, 高松市, 2.90, 904147, 76153, 
21201, 岐阜市, 3.14, 957971, 76555, 
32201, 松江市, 2.92, 924350, 75073, 
33100, 岡山市, 3.09, 927279, 78034, 
8201, 水戸市, 2.90, 932200, 67318, 6
46201, 鹿児島市, 2.80, 886950, 70929
41201, 佐賀市, 2.93, 918504, 71984, 
23100, 名古屋市, 2.99, 990994, 80918
18201, 福井市, 3.14, 974542, 82592, 
35203, 山口市, 2.99, 891062, 69987, 
10201, 前橋市, 2.81, 923714, 77456, 
9201, 宇都宮市, 2.85, 982038, 74050,
19201, 甲府市, 2.87, 946017, 74069, 
34100, 広島市, 3.02, 972840, 77531, 
11100, さいたま市, 3.04, 1038797, 80
31201, 鳥取市, 3.18, 902757, 79256, 
6201, 山形市, 3.19, 994946, 79598, 7
40130, 福岡市, 2.95, 955403, 73597, 
27100, 大阪市, 2.99, 985502, 84901, 
30201, 和歌山市, 2.81, 862005, 77846
20201, 長野市, 2.95, 919211, 71485, 
39201, 高知市, 3.03, 961760, 72418, 
7201, 福島市, 3.00, 961789, 73184, 7
3201, 盛岡市, 3.15, 951176, 80203, 7
17201, 金沢市, 3.24, 1054782, 82042,
13100, 東京都区部, 2.93, 1123765, 81
1100, 札幌市, 2.96, 910399, 81474, 7
15100, 新潟市, 3.18, 958724, 81705, 
42201, 長崎市, 2.72, 905204, 75249, 
12100, 千葉市, 3.00, 1030073, 78500,
29201, 奈良市, 2.91, 994117, 78857, 
26100, 京都市, 2.88, 975105, 80628, 
24201, 津市, 2.96, 960858, 74918, 81
22100, 静岡市, 3.06, 1008506, 84418,
14100, 横浜市, 2.84, 1066987, 82257,
5201, 秋田市, 2.88, 900697, 68139, 8
110346, 51796, 55920, 120395
16201, 富山市, 3.17, 1015186, 79967,, 142363, 55264, 47985, 179840
25201, 大津市, 2.96, 1009459, 84658,3, 128131, 51872, 41661, 154394
4100, 仙台市, 3.00, 958380, 70942, 89, 120474, 43636, 42161, 92715, 12080840, 56234, 46579, 144356
2201, 青森市, 2.98, 878930, 71992, 90933, 83349, 38677, 106830, 38863, 40288, 81388, 111074, 56753, 52644, 106138
```

## 修正履歴

